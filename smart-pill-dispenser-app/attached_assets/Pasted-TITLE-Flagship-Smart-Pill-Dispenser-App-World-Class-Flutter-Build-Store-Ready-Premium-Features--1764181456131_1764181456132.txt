TITLE:
Flagship Smart Pill Dispenser App ‚Äì World-Class Flutter Build (Store-Ready, Premium Features)

PROMPT:
Act as a senior principal Flutter engineer at Apple/Google.
Build a **world-class, store-ready Flutter application** for a Smart Pill Dispenser ecosystem with **premium UX, advanced features, and production-grade code architecture**.

====================================================
üî• 0. CORE GOAL (BIG PICTURE)
====================================================
Deliver a COMPLETE Flutter project that is:
- Compile-ready for **Google Play** + **Apple App Store**
- Fully state-managed (Provider or Riverpod)
- Secure, smooth, animated, and beautifully designed
- Written in null-safe Dart, latest Flutter stable
- Structured like a professional $200k+ app build

====================================================
üî• 1. ADD THESE PREMIUM FEATURES (EVEN STRONGER)
====================================================

1. **AI-Adherence Insights (Mocked Algorithm)**
   - Generate simple weekly insights:
     "Best time you take meds", 
     "Highest risk time", 
     "Your adherence improved 17% this week"
   - Display as cards/charts.

2. **Habit Score / Health Score**
   - A dynamic score (0‚Äì100) based on consistency.
   - Shown on patient & caregiver dashboards.

3. **Gamification (Micro-Rewards)**
   - Streaks (3-day, 7-day, 30-day)
   - Badges: ‚ÄúConsistent‚Äù, ‚ÄúPerfect Week‚Äù, ‚ÄúNever Missed‚Äù
   - UI badges stored locally (mocked)

4. **Chat-like Communication Feed (Mock Only)**
   - Caregiver ‚áÑ Patient messaging feed for:
     ‚ÄúNeed help?‚Äù
     ‚ÄúMedication updated‚Äù
     ‚ÄúMissed dose noticed‚Äù
   - Simple UI, mocked messages.

5. **Multi-Device Sync UI (Future-proof)**
   - Each patient can have:
     - Home device
     - Travel mini-dispenser
   - Show them in a devices list.

6. **Cloud Backup Architecture (UI + Mock service)**
   - Button ‚ÄúBackup My Data‚Äù
   - Mock backup timestamp
   - UI only, no backend needed.

7. **Emergency Auto-Dial (UI Only)**
   - After 3 missed doses ‚Üí show ‚ÄúAuto-call caregiver‚Äù button
   - No actual call ‚Äî UI mock.

8. **Apple-grade Smooth Animations**
   Add:
   - Shared axis transitions
   - Fade-through transitions
   - Hero animations for cards
   - Animated pill-dispensing icon

9. **NFC Tap-to-Pair UI (Future ESP32 NFC)**
   - ‚ÄúTap your dispenser to pair‚Äù
   - Show mock animation + success state

10. **Voice Assistant Button (UI Only)**
   - ‚ÄúWhat is my next dose?‚Äù
   - ‚ÄúShow my history‚Äù
   - No actual NLP, just UI simulation.

11. **Profile Photo Support**
   - For both roles
   - Local upload + circular avatar

12. **Quick Actions (Long Press App Icon ‚Äì iOS/Android)**
   - ‚ÄúNext Dose‚Äù
   - ‚ÄúMy Schedule‚Äù
   - ‚ÄúSOS Call‚Äù
   - Implement via shortcuts (UI only)

====================================================
üî• 2. WORLD-CLASS UI DESIGN (APPLE-LEVEL)
====================================================
Design system MUST include:

### Colors:
- Primary: #0A84FF (iOS blue)
- Secondary: Teal/Aqua
- Success: Green 500
- Warning: Amber 500
- Error: Red 600
- Background Light: #F8FAFD
- Background Dark: #0E0E0F
- Card Light: White with soft shadow
- Card Dark: Charcoal with soft elevation

### Typography:
- Use SF Pro / Material baseline
- Large Title for onboarding
- SemiBold headers
- Smooth letter spacing

### UI Style:
- Rounded corners (16‚Äì28px)
- Soft drop shadows
- Subtle gradients
- Lottie animations for:
  - pill dispensing
  - success events
  - onboarding illustrations

### Animation Behaviors:
- Page transitions: Cupertino-like smoothness
- Bottom sheets: iOS-style with grab handle
- Buttons: scale bounce on press
- Scroll effects: parallax headers

====================================================
üî• 3. ONBOARDING (WORLD-CLASS)
====================================================
Onboarding must be **beautiful**, with:
- 3‚Äì4 slides
- Swipe gestures
- Parallax images
- Dot/page indicator
- Skip + Next + Get Started
- Saves `hasSeenOnboarding=true` via shared_preferences

====================================================
üî• 4. MAJOR SCREENS (ALL WITH PREMIUM UI)
====================================================
Generate ALL screens with best-practice code:

### Patient:
- Home Dashboard (Next Dose, Health Score, Streaks)
- Calendar Adherence View
- Dose Timeline
- History
- Chat Feed (mock)
- Settings (dark mode, text size, language, biometrics)

### Caregiver:
- Dashboard Metrics (cards, charts)
- Patients List
- Patient Detail (timeline + insights)
- Alerts (rich)
- Messages Feed
- Settings

### System:
- Device Pairing (QR + NFC UI)
- Offline banner
- Backup screen
- SOS emergency interactions

====================================================
üî• 5. SECURITY (MANDATORY)
====================================================
Use **flutter_secure_storage** for:
- tokens
- role
- profile metadata

shared_preferences ONLY for:
- onboarding flag
- dark mode
- text size

====================================================
üî• 6. OFFLINE MODE
====================================================
Cache:
- next dose
- today's schedule
- last 7-day logs

Use:
- Hive or shared_preferences for local caching

====================================================
üî• 7. STATE MANAGEMENT
====================================================
Use **Riverpod** preferred (or Provider if needed).

All screens must rebuild reactively.

====================================================
üî• 8. MOCK API LAYER
====================================================
Provide realistic mocked endpoints:
- login()
- fetchCurrentUser()
- fetchWeeklyInsights()
- fetchPatients()
- fetchDeviceHealth()
- fetchMessages()
- sendSOS()
- sendOverrideAction()

Use Future.delayed to simulate network.

====================================================
üî• 9. PROJECT STRUCTURE
====================================================
Use this EXACT structure:

lib/
  main.dart
  app.dart
  routes.dart
  theme/
    app_theme.dart
  config/
    app_config.dart
  screens/
    onboarding/...
    auth/...
    patient/...
    caregiver/...
    chat/...
    device/...
    settings/...
  widgets/
    buttons/...
    indicators/...
    cards/...
    loaders/...
    animations/...
  services/
    api_service.dart
    cache_service.dart
    secure_storage_service.dart
  state/
    auth/
    patient/
    caregiver/
    alerts/
    settings/
    onboarding/
    chat/
    device/
  models/
    user.dart
    patient.dart
    medication.dart
    schedule.dart
    dose_log.dart
    alert.dart
    device.dart
    message.dart
  utils/
    validators.dart
    formatting.dart
    constants.dart
assets/
  lang/en.json
  lang/hi.json
  animations/*.json
  images/*.png

====================================================
üî• 10. AUTO-GENERATE A COMPLETE README.md
====================================================
README must include:

### Project Overview
### Screens + Features
### Tech Stack
### Folder Structure
### How to Run (flutter run)
### How to Build (APK + AAB + IPA)
### Environment Config (dev/prod flavors)
### Secure Storage Notes
### Localization
### Offline Mode Architecture
### How to Integrate a Real Backend
### App Store + Play Store Checklist
### Future Enhancements

====================================================
üî• 11. QUALITY BAR
====================================================
- NO TODOs  
- NO empty files  
- Production-grade Dart  
- Smooth animations everywhere  
- Pixel-perfect UI  
- Apple-level polish  
- ALL logic must compile  
- Code structured for easy backend integration  

====================================================
üî• 12. DELIVERABLE
====================================================
Generate the **entire Flutter codebase**, plus:
- assets
- theme
- providers
- services
- README.md

END OF PROMPT
